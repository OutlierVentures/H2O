# H2O: Haja to Ocean

![Components](/images/components.png)

Machine learning with OrbitDB & Ocean Protocol.

You can find a live version of the app at [h2o.apps.outlierventures.io](https://h2o.apps.outlierventures.io/home).

Publishing assets requires an Azure Storage account.
Proof-of-concept OrbitDB hosting can be found in `backend` folder, see `app.py` and `host.js`.

This app runs Squid-py 0.2.5. The squid component will be updated with stable releases.

## Architecture

### Dataflow

![Dataflow](/images/dataflow.png)

### Architecture diagram

![Architecture](/images/architecture.png)


## Getting started

H2O runs on Linux and MacOS with command line tools.

### Install components

```
sudo ./install
```
If you encounter any install problems, there is a full requirements list at the bottom of this file for manual installations.

### Running components

Start an instance of Ocean Protocol:
```
./launch_ocean
```

In another teminal window:
```
./launch_h2o
```

Interact with the app in your browser at `0.0.0.0:4200`.


### Deployment

You can run an H2O client using nginx. You can quickly set up your configuration using [nginxconfig.io](https://nginxconfig.io) and `ng build --watch`. Please disable caching of any image files generated by `backend` or graphs will not update for your users.



## Full requirements list

If you encounter errors with the install script, here is a full list of requirements:

H2O runs on Linux and MacOS.

- MacOS: command line tools, Homebrew
- Linux: GCC 4+
- Python 3 (`python3-dev` on Linux)
- Pip3
- Node 8 (strictly version 8 - this is because of `node-gyp`)
- NPM 6+
- Angular CLI 1+
- Yarn 1.10+
- Finally, install dependencies:
    ```
    pip3 install --upgrade setuptools
    pip3 install wheel
    cd backend
    pip3 install -r requirements.txt
    npm install orbit-db ipfs
    cd ../frontend
    yarn install --pure-lockfile
    ```
